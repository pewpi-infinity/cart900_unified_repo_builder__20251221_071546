<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Phi Singer — Golden Ratio Sonification</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
  body {
    background: #0e0e11;
    color: #f2f2f2;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    text-align: center;
    padding: 40px;
  }
  h1 {
    font-weight: 600;
    margin-bottom: 10px;
  }
  p {
    opacity: 0.85;
    max-width: 520px;
    margin: 0 auto 25px;
  }
  button {
    font-size: 18px;
    padding: 12px 24px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    background: linear-gradient(135deg, #d4af37, #f5d76e);
    color: #000;
    font-weight: 600;
  }
  button:active {
    transform: scale(0.98);
  }
  .status {
    margin-top: 18px;
    opacity: 0.7;
    font-size: 14px;
  }
</style>
</head>

<body>

<h1>Φ Phi Singer</h1>
<p>
Hear the Golden Ratio the same way π is heard in Pi Singer.<br>
Pure number → pure tone → infinite structure.
</p>

<button id="playBtn">▶ Play Φ</button>
<div class="status" id="status">Ready</div>

<script>
/* -------------------------------------------------
   Golden Ratio digits (φ)
   ------------------------------------------------- */
const phiDigits =
`161803398874989484820458683436563811772030917980576286213544862270526046281890244970720720418939113748475408807538689175212663386222353693179318006076672635443338908659593958290563832266131992829026788067520876689250171169620703222104321626954862629631361443814975870122034080588795445474924618569536486444924104432077134494704956584678850987433944221254487706647809158846074998871240076521705751797883416625624940758906970400028121042762177111777805315317141011704666599146697987317613560067087480710131795236894275219484353056783002287856997829778347845878228911097625003026961561700250464338243776486102838312683303724292675263116533924731671112115881863851331620384005222165791286675294654906811317159934323597349498509040947621322298101726107059611645629909816290555208524790352406020172799747175342777592778625619432082750513121815628551222480939471234145170223735805772786160086883829523045926478780178899219902707769038953219681986151437803149974110692608867429622675756052317277752035361393621076738937645560606059216589466759551900400555908953123239040361645428778836896907335227310642563078566721488969366986844

/* -------------------------------------------------
   Digit → frequency mapping (Pi Singer style)
   ------------------------------------------------- */
const scale = [
  261.63, // 0 C
  293.66, // 1 D
  329.63, // 2 E
  349.23, // 3 F
  392.00, // 4 G
  440.00, // 5 A
  493.88, // 6 B
  523.25, // 7 C+
  587.33, // 8 D+
  659.25  // 9 E+
];

/* -------------------------------------------------
   Audio Engine
   ------------------------------------------------- */
let ctx;
let isPlaying = false;

function initAudio() {
  if (!ctx) {
    ctx = new (window.AudioContext || window.webkitAudioContext)();
  }
}

function playTone(freq, start) {
  const osc = ctx.createOscillator();
  const gain = ctx.createGain();

  osc.type = "sine";
  osc.frequency.value = freq;

  gain.gain.setValueAtTime(0.0001, start);
  gain.gain.exponentialRampToValueAtTime(0.15, start + 0.02);
  gain.gain.exponentialRampToValueAtTime(0.0001, start + 0.26);

  osc.connect(gain);
  gain.connect(ctx.destination);

  osc.start(start);
  osc.stop(start + 0.28);
}

/* -------------------------------------------------
   Play Φ
   ------------------------------------------------- */
function playPhi() {
  if (isPlaying) return;
  isPlaying = true;
  document.getElementById("status").textContent = "Playing φ…";

  initAudio();
  let t = ctx.currentTime + 0.05;

  for (const digit of phiDigits) {
    playTone(scale[Number(digit)], t);
    t += 0.30;
  }

  setTimeout(() => {
    isPlaying = false;
    document.getElementById("status").textContent = "Finished";
  }, phiDigits.length * 300);
}

/* -------------------------------------------------
   UI
   ------------------------------------------------- */
document.getElementById("playBtn").addEventListener("click", playPhi);
</script>

</body>
</html>
